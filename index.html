<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0f172a">
    <title>RetiFlux‚Ñ¢ - Universal Warehouse Management System</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="preload" href="favicon.png" as="image">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cascadia+Mono:wght@400;600;700&family=Cascadia+Code:wght@400;600;700&display=swap');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        *:focus-visible { outline: 3px solid #f59e0b; outline-offset: 2px; border-radius: 4px; }
        *:focus:not(:focus-visible) { outline: none; }

        body {
            font-family: 'Cascadia Mono', Consolas, 'Cascadia Code', monospace;
            min-height: 100vh;
            background: #0b1628;
            background-image:
                radial-gradient(ellipse at 20% 10%, rgba(102, 126, 234, 0.12) 0%, transparent 55%),
                radial-gradient(ellipse at 80% 80%, rgba(30, 58, 95, 0.4) 0%, transparent 55%),
                linear-gradient(160deg, #0f172a 0%, #0b1628 100%);
            background-attachment: fixed;
            color: #e2e8f0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 660px;
            margin: 0 auto;
            padding: 52px 28px 72px;
        }

        /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
        .hero { text-align: center; margin-bottom: 40px; }
        .logo-wrap {
            position: relative;
            width: 76px;
            height: 76px;
            margin: 0 auto 18px;
        }
        .logo-ring {
            position: absolute;
            inset: -10px;
            border-radius: 50%;
            border: 1.5px solid rgba(251, 191, 36, 0.35);
            box-shadow: 0 0 18px rgba(251, 191, 36, 0.12);
            animation: pulseRing 3s ease-in-out infinite;
        }
        @keyframes pulseRing {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
        }
        .logo { width: 76px; height: 76px; object-fit: contain; position: relative; z-index: 1; display: block; }
        .hero h1 { font-size: clamp(1.75rem, 4vw, 2.1rem); font-weight: 700; color: #fff; margin-bottom: 6px; letter-spacing: 0.5px; }
        .hero .tagline { font-size: 0.95rem; color: #94a3b8; }
        .hero .powered { font-size: 0.78rem; color: #475569; margin-top: 8px; letter-spacing: 0.3px; }
        .hero .powered strong { color: #818cf8; font-weight: 600; }

        /* ‚îÄ‚îÄ About ‚îÄ‚îÄ */
        .about-section {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 14px;
            padding: 24px 28px;
            margin-bottom: 36px;
            backdrop-filter: blur(8px);
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }
        .about-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        .about-header h2 {
            font-size: 0.72rem;
            color: #fbbf24;
            font-weight: 700;
            letter-spacing: 1.8px;
            text-transform: uppercase;
            margin: 0;
        }
        .lang-pill {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: #475569;
            background: rgba(71,85,105,0.15);
            border: 1px solid rgba(71,85,105,0.25);
            border-radius: 20px;
            padding: 4px 10px;
            transition: all 0.3s ease;
            min-width: 68px;
            justify-content: center;
        }
        .lang-pill.switching {
            opacity: 0;
            transform: scale(0.85);
        }
        .typewriter-body {
            flex: 1;
            min-height: 100px;
            position: relative;
        }
        .typewriter-text {
            color: #94a3b8;
            font-size: 0.88rem;
            line-height: 1.8;
            font-family: 'Cascadia Mono', Consolas, monospace;
        }
        .typewriter-text .tw-brand {
            color: #fbbf24;
            font-weight: 700;
        }
        .typewriter-cursor {
            display: inline-block;
            width: 2px;
            height: 1.1em;
            background: #fbbf24;
            margin-left: 2px;
            vertical-align: middle;
            border-radius: 1px;
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .lang-dots {
            display: flex;
            gap: 6px;
            margin-top: 14px;
            justify-content: flex-end;
        }
        .lang-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(71,85,105,0.35);
            transition: all 0.3s ease;
            cursor: default;
        }
        .lang-dot.active {
            background: #fbbf24;
            box-shadow: 0 0 6px rgba(251,191,36,0.5);
            transform: scale(1.25);
        }

        /* ‚îÄ‚îÄ Primary CTA ‚îÄ‚îÄ */
        .primary-cta { text-align: center; margin-bottom: 40px; }
        .btn-primary {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 40px;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 60%, #fbbf24 100%);
            color: #0f172a;
            font-family: inherit;
            font-weight: 700;
            font-size: 1rem;
            text-decoration: none;
            border-radius: 12px;
            letter-spacing: 0.3px;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.25);
            transition: transform 0.15s ease, box-shadow 0.15s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 28px rgba(251, 191, 36, 0.4);
        }
        .btn-icon { font-size: 1.15rem; }

        /* ‚îÄ‚îÄ Quick Actions ‚îÄ‚îÄ */
        .qa-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 14px;
        }
        .qa-header-label {
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #475569;
            white-space: nowrap;
        }
        .qa-header-line {
            flex: 1;
            height: 1px;
            background: linear-gradient(to right, rgba(71, 85, 105, 0.6), transparent);
        }
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        /* ‚îÄ‚îÄ Base card styles ‚îÄ‚îÄ */
        .qa-card {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px 18px;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.07);
            border-radius: 12px;
            text-decoration: none;
            color: #e2e8f0;
            backdrop-filter: blur(6px);
            transition: transform 0.13s ease, border-color 0.13s ease, background 0.13s ease, box-shadow 0.13s ease;
        }
        .qa-card:hover {
            transform: translateY(-2px);
            border-color: rgba(251, 191, 36, 0.4);
            background: rgba(30, 58, 95, 0.55);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }
        .qa-icon {
            font-size: 20px;
            flex-shrink: 0;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 10px;
        }
        .qa-text strong {
            display: block;
            font-size: 0.88rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 3px;
        }
        .qa-text span {
            font-size: 0.73rem;
            color: #64748b;
            line-height: 1.4;
        }

        /* ‚îÄ‚îÄ Hover-collapsible card for Stock Movement ‚îÄ‚îÄ */
        .qa-collapsible {
            position: relative;
        }
        .qa-collapsible .qa-card {
            width: 100%;
            cursor: default;
        }
        .qa-collapsible .qa-card .qa-caret {
            margin-left: auto;
            font-size: 0.7rem;
            color: #64748b;
            transition: transform 0.2s ease;
            flex-shrink: 0;
        }
        .qa-sub-menu {
            position: absolute;
            top: calc(100% + 6px);
            left: 0;
            right: 0;
            background: rgba(10, 18, 38, 0.97);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 12px;
            overflow: hidden;
            z-index: 50;
            backdrop-filter: blur(12px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
            /* Hidden by default */
            opacity: 0;
            transform: translateY(-6px);
            pointer-events: none;
            transition: opacity 0.18s ease, transform 0.18s ease;
        }
        .qa-collapsible:hover .qa-sub-menu,
        .qa-collapsible:focus-within .qa-sub-menu {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        .qa-collapsible:hover .qa-card .qa-caret {
            transform: rotate(180deg);
        }
        .qa-sub-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 13px 18px;
            text-decoration: none;
            color: #cbd5e1;
            font-size: 0.85rem;
            font-weight: 600;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.12s ease, color 0.12s ease;
        }
        .qa-sub-item:last-child { border-bottom: none; }
        .qa-sub-item:hover {
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
        }
        .qa-sub-item .sub-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(245, 158, 11, 0.08);
            border-radius: 8px;
            font-size: 16px;
            flex-shrink: 0;
        }
        .qa-sub-item .sub-text small {
            display: block;
            font-size: 0.68rem;
            font-weight: 400;
            color: #475569;
            margin-top: 2px;
        }
        .qa-sub-badge {
            margin-left: auto;
            font-size: 0.62rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: #475569;
            background: rgba(71, 85, 105, 0.15);
            border: 1px solid rgba(71, 85, 105, 0.25);
            border-radius: 20px;
            padding: 2px 8px;
            white-space: nowrap;
        }

        /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
        .page-footer {
            text-align: center;
            margin-top: 56px;
            padding-top: 18px;
            border-top: 1px solid rgba(245, 158, 11, 0.2);
            font-size: 0.72rem;
            color: #64748b;
            letter-spacing: 0.5px;
            font-weight: 500;
        }
        .page-footer .footer-brand { color: #fbbf24; font-weight: 700; }
        .page-footer .footer-lab   { color: #818cf8; font-weight: 700; }
    </style>
</head>
<body>
    <div class="container">

        <div class="hero">
            <div class="logo-wrap">
                <div class="logo-ring"></div>
                <img class="logo" src="favicon.png" alt="RetiFlux" />
            </div>
            <h1>RetiFlux‚Ñ¢</h1>
            <p class="tagline">Universal Warehouse Management System</p>
            <p class="powered">Powered by <strong>NexGridCore DataLabs</strong></p>
        </div>

        <section class="about-section">
            <div class="about-header">
                <h2>About RetiFlux‚Ñ¢</h2>
                <span class="lang-pill" id="langPill">üá¨üáß EN</span>
            </div>
            <div class="typewriter-body">
                <span class="typewriter-text" id="twText"></span><span class="typewriter-cursor" id="twCursor"></span>
            </div>
            <div class="lang-dots" id="langDots"></div>
        </section>

        <div class="primary-cta">
            <a href="bandingtickets.html" class="btn-primary">
                <span class="btn-icon">üé´</span>
                Open Ticketing Center
            </a>
        </div>

        <div class="qa-header">
            <span class="qa-header-label">Quick Actions</span>
            <div class="qa-header-line"></div>
        </div>
        <div class="quick-actions-grid">

            <a href="bandingtickets.html?mode=fill" class="qa-card">
                <div class="qa-icon">‚úèÔ∏è</div>
                <div class="qa-text">
                    <strong>Edit Ticket</strong>
                    <span>Enter serial &amp; update ticket data</span>
                </div>
            </a>

            <a href="bandingtickets.html?mode=bincards" class="qa-card">
                <div class="qa-icon">üìã</div>
                <div class="qa-text">
                    <strong>Bin Cards</strong>
                    <span>Shift stock reconciliation &amp; confirm</span>
                </div>
            </a>

            <div class="qa-collapsible">
                <div class="qa-card" tabindex="0" role="button" aria-haspopup="true" aria-label="Stock Movement ‚Äî hover to expand">
                    <div class="qa-icon">üöö</div>
                    <div class="qa-text">
                        <strong>Stock Movement</strong>
                        <span>Authorized personnel only</span>
                    </div>
                    <span class="qa-caret">‚ñæ</span>
                </div>
                <div class="qa-sub-menu" role="menu">
                    <a href="bandingtickets.html?mode=movement&tab=monitor" class="qa-sub-item" role="menuitem">
                        <div class="sub-icon">üìä</div>
                        <div class="sub-text">
                            Zone Monitor
                            <small>View pallets, FIFO status &amp; initiate moves</small>
                        </div>
                        <span class="qa-sub-badge">Login required</span>
                    </a>
                    <a href="bandingtickets.html?mode=movement&tab=receiving" class="qa-sub-item" role="menuitem">
                        <div class="sub-icon">üì•</div>
                        <div class="sub-text">
                            Zone Receiving
                            <small>Receive inbounds &amp; confirm outbounds</small>
                        </div>
                        <span class="qa-sub-badge">Login required</span>
                    </a>
                </div>
            </div>

        </div>

        <div class="page-footer"><strong class="footer-brand">RetiFlux‚Ñ¢</strong> Powered by <strong class="footer-lab">NexGridCore DataLabs</strong></div>
    </div>

    <script>
    (function() {
        // ‚îÄ‚îÄ Time-based greeting ‚îÄ‚îÄ
        (function() {
            const h = new Date().getHours();
            window._rfGreeting = {
                en: h < 12 ? 'Good morning! üëã' : h < 17 ? 'Good afternoon! üëã' : 'Good evening! üëã',
                sw: h < 12 ? 'Habari za asubuhi! üëã' : h < 17 ? 'Habari za mchana! üëã' : 'Habari za jioni! üëã',
                fr: h < 12 ? 'Bonjour ! üëã' : h < 17 ? 'Bon apr√®s-midi ! üëã' : 'Bonsoir ! üëã',
                es: h < 12 ? '¬°Buenos d√≠as! üëã' : h < 17 ? '¬°Buenas tardes! üëã' : '¬°Buenas noches! üëã',
                pt: h < 12 ? 'Bom dia! üëã' : h < 17 ? 'Boa tarde! üëã' : 'Boa noite! üëã'
            };
        })();

        // ‚îÄ‚îÄ Topics: 5 aspects of RetiFlux, each in 5 languages ‚îÄ‚îÄ
        const LANG_META = [
            { key: 'en', pill: 'üá¨üáß EN' },
            { key: 'sw', pill: 'üá∞üá™ SW' },
            { key: 'fr', pill: 'üá´üá∑ FR' },
            { key: 'es', pill: 'üá™üá∏ ES' },
            { key: 'pt', pill: 'üáßüá∑ PT' }
        ];

        const topics = [
            {
                en: [
                    window._rfGreeting.en,
                    'I\'m RetiFlux‚Ñ¢ ‚Äî your warehouse\'s memory.',
                    'My name blends two Latin words: Reti (network) and Flux (flow).',
                    'Think of me as the invisible thread that ties everything together.'
                ],
                sw: [
                    window._rfGreeting.sw,
                    'Mimi ni RetiFlux‚Ñ¢ ‚Äî kumbukumbu ya ghala lako.',
                    'Jina langu linachanganya maneno mawili ya Kilatini: Reti (mtandao) na Flux (mtiririko).',
                    'Nifikirie kama uzi usioonekana unaounganisha kila kitu.'
                ],
                fr: [
                    window._rfGreeting.fr,
                    'Je suis RetiFlux‚Ñ¢ ‚Äî la m√©moire de votre entrep√¥t.',
                    'Mon nom m√™le deux mots latins : Reti (r√©seau) et Flux (√©coulement).',
                    'Imaginez-moi comme le fil invisible qui relie tout.'
                ],
                es: [
                    window._rfGreeting.es,
                    'Soy RetiFlux‚Ñ¢ ‚Äî la memoria de tu almac√©n.',
                    'Mi nombre combina dos palabras latinas: Reti (red) y Flux (flujo).',
                    'Piensa en m√≠ como el hilo invisible que une todo.'
                ],
                pt: [
                    window._rfGreeting.pt,
                    'Sou RetiFlux‚Ñ¢ ‚Äî a mem√≥ria do teu armaz√©m.',
                    'O meu nome combina duas palavras latinas: Reti (rede) e Flux (fluxo).',
                    'Pensa em mim como o fio invis√≠vel que liga tudo.'
                ]
            },
            {
                en: [
                    'Every time a box of goods is packed and wrapped, I\'m there.',
                    'I create a Run Ticket ‚Äî a small card that tells the full story of that batch.',
                    'Serial number, colour, QR code ‚Äî all in one place.',
                    'Just point a phone camera at it. That\'s all it takes.'
                ],
                sw: [
                    'Kila wakati bidhaa zinapofungashwa, mimi nipo.',
                    'Ninaunda Run Ticket ‚Äî kadi ndogo inayoeleza hadithi nzima ya mzigo huo.',
                    'Nambari ya serial, rangi, QR code ‚Äî vyote mahali pamoja.',
                    'Lenga kamera ya simu. Hiyo tu inatosha.'
                ],
                fr: [
                    'Chaque fois qu\'une palette est pr√©par√©e, je suis l√†.',
                    'Je cr√©e un Run Ticket ‚Äî une petite fiche qui raconte toute l\'histoire de ce lot.',
                    'Num√©ro de s√©rie, couleur, QR code ‚Äî tout au m√™me endroit.',
                    'Il suffit de pointer une cam√©ra de t√©l√©phone dessus. C\'est tout.'
                ],
                es: [
                    'Cada vez que se prepara un palet, yo estoy ah√≠.',
                    'Creo un Run Ticket ‚Äî una peque√±a tarjeta que cuenta la historia completa de ese lote.',
                    'N√∫mero de serie, color, c√≥digo QR ‚Äî todo en un solo lugar.',
                    'Solo apunta la c√°mara de un tel√©fono. Eso es todo.'
                ],
                pt: [
                    'Cada vez que uma palete √© preparada, eu estou l√°.',
                    'Crio um Run Ticket ‚Äî um pequeno cart√£o que conta toda a hist√≥ria desse lote.',
                    'N√∫mero de s√©rie, cor, c√≥digo QR ‚Äî tudo num s√≥ lugar.',
                    'Basta apontar a c√¢mara de um telem√≥vel. √â s√≥ isso.'
                ]
            },
            {
                en: [
                    'I keep an eye on every storage area, all the time.',
                    'I make sure older stock goes out before newer stock ‚Äî so nothing expires quietly.',
                    'And if someone needs to change that order? They\'ll need to say why.',
                    'I just think honesty is good for business. üòä'
                ],
                sw: [
                    'Ninafuatilia kila eneo la uhifadhi, wakati wote.',
                    'Ninahakikisha bidhaa za zamani zinatoka kwanza ‚Äî ili hakuna inayooza kimya kimya.',
                    'Na kama mtu anataka kubadilisha mpangilio huo? Ataeleza kwa nini.',
                    'Nadhani uaminifu ni mzuri kwa biashara. üòä'
                ],
                fr: [
                    'Je surveille chaque zone de stockage, en permanence.',
                    'Je m\'assure que les anciens stocks sortent avant les nouveaux ‚Äî pour que rien ne p√©rime discr√®tement.',
                    'Et si quelqu\'un veut changer cet ordre ? Il devra expliquer pourquoi.',
                    'Je pense juste que l\'honn√™tet√©, c\'est bon pour les affaires. üòä'
                ],
                es: [
                    'Vigilo cada √°rea de almacenamiento, todo el tiempo.',
                    'Me aseguro de que el stock m√°s antiguo salga primero ‚Äî para que nada caduque en silencio.',
                    'Y si alguien quiere cambiar ese orden, tendr√° que explicar por qu√©.',
                    'Simplemente creo que la honestidad es buena para los negocios. üòä'
                ],
                pt: [
                    'Vig√≠o cada √°rea de armazenamento, o tempo todo.',
                    'Garanto que o stock mais antigo sai primeiro ‚Äî para que nada expire em sil√™ncio.',
                    'E se algu√©m quiser mudar essa ordem? Ter√° de explicar porqu√™.',
                    'Acho que a honestidade √© boa para os neg√≥cios. üòä'
                ]
            },
            {
                en: [
                    'I remember everything that happens to every item.',
                    'Who moved it, when they moved it, and where it went.',
                    'Nothing gets lost, and nothing gets quietly changed without a trace.',
                    'The record is always there ‚Äî honest and complete.'
                ],
                sw: [
                    'Ninakumbuka kila kinachotokea kwa kila bidhaa.',
                    'Ni nani aliyeihamisha, walipofanya hivyo, na ilikwenda wapi.',
                    'Hakuna kinachopotea, na hakuna kinachobadilishwa kimya bila alama.',
                    'Rekodi ipo daima ‚Äî ya kweli na kamili.'
                ],
                fr: [
                    'Je me souviens de tout ce qui arrive √† chaque article.',
                    'Qui l\'a d√©plac√©, quand, et o√π il est all√©.',
                    'Rien ne se perd, et rien ne change discr√®tement sans laisser de trace.',
                    'L\'historique est toujours l√† ‚Äî honn√™te et complet.'
                ],
                es: [
                    'Recuerdo todo lo que le pasa a cada art√≠culo.',
                    'Qui√©n lo movi√≥, cu√°ndo lo movi√≥ y ad√≥nde fue.',
                    'Nada se pierde, y nada cambia silenciosamente sin rastro.',
                    'El registro siempre est√° ah√≠ ‚Äî honesto y completo.'
                ],
                pt: [
                    'Lembro-me de tudo o que acontece a cada artigo.',
                    'Quem o moveu, quando o moveu e para onde foi.',
                    'Nada se perde, e nada muda em sil√™ncio sem deixar rasto.',
                    'O registo est√° sempre l√° ‚Äî honesto e completo.'
                ]
            },
            {
                en: [
                    'Not everyone can walk in and make changes ‚Äî and that\'s by design.',
                    'I check who you are and where you\'re accessing from before letting you through.',
                    'Every action is tied to a real person. Every session leaves a fingerprint.',
                    'Retis Fluxit, Data Vincit ‚Äî The Network Flows, Data Wins. üèÜ'
                ],
                sw: [
                    'Si kila mtu anaweza kuingia na kufanya mabadiliko ‚Äî na hiyo ni kwa makusudi.',
                    'Ninakagua ni nani wewe na unaingia kutoka wapi kabla ya kukuruhusu.',
                    'Kila tendo linaunganishwa na mtu halisi. Kila kikao kinaacha alama.',
                    'Retis Fluxit, Data Vincit ‚Äî Mtandao Unatiririka, Data Inashinda. üèÜ'
                ],
                fr: [
                    'Tout le monde ne peut pas entrer et faire des modifications ‚Äî c\'est voulu.',
                    'Je v√©rifie qui vous √™tes et d\'o√π vous vous connectez avant de vous laisser passer.',
                    'Chaque action est li√©e √† une vraie personne. Chaque session laisse une empreinte.',
                    'Retis Fluxit, Data Vincit ‚Äî Le R√©seau Coule, les Donn√©es Gagnent. üèÜ'
                ],
                es: [
                    'No cualquiera puede entrar y hacer cambios ‚Äî eso es intencional.',
                    'Verifico qui√©n eres y desde d√≥nde accedes antes de dejarte pasar.',
                    'Cada acci√≥n est√° vinculada a una persona real. Cada sesi√≥n deja huella.',
                    'Retis Fluxit, Data Vincit ‚Äî La Red Fluye, los Datos Ganan. üèÜ'
                ],
                pt: [
                    'Nem toda a gente pode entrar e fazer altera√ß√µes ‚Äî e isso √© propositado.',
                    'Verifico quem √©s e de onde est√°s a aceder antes de te deixar passar.',
                    'Cada a√ß√£o est√° ligada a uma pessoa real. Cada sess√£o deixa uma marca.',
                    'Retis Fluxit, Data Vincit ‚Äî A Rede Flui, os Dados Vencem. üèÜ'
                ]
            }
        ];

        // Build flat sequence: topic 0 EN, topic 1 SW, topic 2 FR, ... cycling both
        // Each step advances topic; language advances every full topic cycle
        const textEl  = document.getElementById('twText');
        const pillEl  = document.getElementById('langPill');
        const dotsEl  = document.getElementById('langDots');

        // Build 5 language dots
        LANG_META.forEach((_, i) => {
            const d = document.createElement('div');
            d.className = 'lang-dot' + (i === 0 ? ' active' : '');
            d.title = LANG_META[i].pill;
            dotsEl.appendChild(d);
        });
        const dots = dotsEl.querySelectorAll('.lang-dot');

        let topicIdx = 0;
        let langIdx  = 0;
        let running  = true;

        const sleep = ms => new Promise(r => setTimeout(r, ms));

        function setDot(i) {
            dots.forEach((d, idx) => d.classList.toggle('active', idx === i));
        }

        async function setLangPill(text) {
            pillEl.classList.add('switching');
            await sleep(260);
            pillEl.textContent = text;
            pillEl.classList.remove('switching');
        }

        async function runLoop() {
            while (running) {
                const meta  = LANG_META[langIdx];
                const lines = topics[topicIdx][meta.key];

                await setLangPill(meta.pill);
                setDot(langIdx);

                // Type each line progressively
                let built = '';
                for (let li = 0; li < lines.length; li++) {
                    const line = lines[li];
                    const prefix = built ? built + '\n' : '';
                    const speed = li === 0 ? 34 : 28;
                    for (let ci = 0; ci <= line.length; ci++) {
                        if (!running) return;
                        textEl.textContent = prefix + line.slice(0, ci);
                        await sleep(speed);
                    }
                    built = prefix + line;
                    if (li < lines.length - 1) await sleep(320);
                }

                // Hold
                await sleep(2600);

                // Erase fast
                const full = textEl.textContent;
                for (let i = full.length; i >= 0; i--) {
                    if (!running) return;
                    textEl.textContent = full.slice(0, i);
                    await sleep(11);
                }

                await sleep(350);

                // Advance: cycle through topics, bump language every full topic round
                topicIdx++;
                if (topicIdx >= topics.length) {
                    topicIdx = 0;
                    langIdx = (langIdx + 1) % LANG_META.length;
                }
            }
        }

        setTimeout(runLoop, 500);
    })();
    </script>
</body>
</html>
